<div>
  <div class="flex flex-wrap pb-3">
    <div class="flex flex-col w-full">
      <div class="flex flex-wrap w-full">
        <div class="flex text-start w-1/2">
          <h4 class="ml-3 p text-md font-medium">{{ "METER.INFORMATIONS.DESCRIPTION_LABEL" | translate }}</h4>
        </div>
        <div class="flex flex-wrap place-content-end pe-2 w-1/2">
          @switch(meterData.status){
            @case(MeterStatus.ACTIVE){
              <p-tag severity="success" value="{{ 'METER.STATUS.ACTIVE_LABEL' | translate }}" class="text-sm"></p-tag>
            }
            @case(MeterStatus.INACTIVE){
              <p-tag severity="danger" value="{{ 'METER.STATUS.INACTIVE_LABEL' | translate }}" class="text-sm"></p-tag>
            }
            @case(MeterStatus.WAITING_GRD){
              <p-tag
                severity="info"
                value="{{ 'METER.STATUS.WAITING_GRD_LABEL' | translate }}"
                class="text-sm"
              ></p-tag>
            }
            @case(MeterStatus.WAITING_MANAGER){
              <p-tag
                severity="info"
                value="{{ 'METER.STATUS.WAITING_MANAGER_LABEL' | translate }}"
                class="text-sm"
              ></p-tag>
            }
          }
        </div>
      </div>
      <textarea rows="5" cols="50" pInputTextarea [(ngModel)]="meterData.description" [disabled]="true"></textarea>
    </div>
  </div>
  <div class="flex flex-wrap -mx-2 pb-3">
    <h3 class="text-lg font-medium">{{ "METER.DATA.ENERGY_CHARACTERISTIC_TITLE" | translate }}</h3>
  </div>
  <div class="flex flex-wrap -mx-2 text-center pb-1 w-full">
    <div class="flex flex-col w-1/3">
      <span class="text-md font-medium">{{ "METER.INFORMATIONS.WITHDRAWAL_POWER_LABEL" | translate }}</span>
      <input type="text" pInputText [disabled]="true" [ngModel]="meterData.sampling_power" class="text-sm" />
    </div>
    <div class="flex flex-col w-1/3 ps-2">
      <span class="text-md font-medium">{{ "METER.INFORMATIONS.TOTAL_GENERATING_CAPACITY_LABEL" | translate }}</span>
      <input type="text" pInputText [disabled]="true" [ngModel]="meterData.totalGenerating_capacity" class="text-sm" />
    </div>
    <div class="flex flex-col w-1/3 ps-2">
      <span class="text-md font-medium">{{ "METER.INFORMATIONS.AMPERAGE_LABEL" | translate }}</span>
      <input type="text" pInputText [disabled]="true" [ngModel]="meterData.amperage" class="text-sm" />
    </div>
  </div>
  <div class="flex flex-wrap -mx-2 text-center pb-1 w-full mt-2">
    <div class="flex flex-col w-1/2">
      <h4 class="text-md font-medium">{{ "METER.INFORMATIONS.PRODUCTION_CHAIN_LABEL" | translate }}</h4>
      <span class="text-sm">{{ meterData.production_chain | mapNumberString: productionChainMap }}</span>
    </div>
    <div class="flex flex-col w-1/2 ps-2">
      <h4 class="text-md font-medium">{{ "METER.INFORMATIONS.INJECTION_STATUS_LABEL" | translate }}</h4>
      <span class="text-sm">{{ meterData.injection_status | mapNumberString: injectionStatusMap }}</span>
    </div>
  </div>
  <div class="flex flex-wrap -mx-2 pb-3">
    <h3 class="text-lg font-medium">{{ "METER.DATA.FINANCIAL_CHARACTERISTIC_TITLE" | translate }}</h3>
  </div>
  <div class="flex flex-wrap -mx-2 pb-3 w-full">
    <div class="flex flex-col w-1/5 ps-2">
      <h4 class="text-md font-medium">{{ "METER.INFORMATIONS.RATE_LABEL" | translate }}</h4>
      <span class="text-sm">{{ meterData.rate | mapNumberString: rateMap }}</span>
    </div>
    <div class="flex flex-col w-1/5 ps-2">
      <h4 class="text-md font-medium">{{ "METER.INFORMATIONS.USAGE_LABEL" | translate }}</h4>
      <span class="text-sm">{{ meterData.client_type | mapNumberString: clientTypeMap }}</span>
    </div>
    <div class="flex flex-col w-1/5 ps-2">
      <h4 class="text-md font-medium">{{ "METER.INFORMATIONS.GRD_LABEL" | translate }}</h4>
      <span class="text-sm">{{ meterData.grd }}</span>
    </div>
    <div class="flex flex-col w-1/5  ps-2">
      <h4 class="text-md font-medium">{{ "METER.DATA.SHARING_OPERATION_TITLE" | translate }}</h4>
      @if(meterData.sharing_operation){
        <div>
          <a href="/members/sharing/{{meterData.sharing_operation.id}}">
            <span class="text-sm underline !decoration-green-500 hover:!text-green-700">
              {{ meterData.sharing_operation.name }}
            </span>
          </a>
        </div>
      }
      @else{
        <span class="text-sm">{{ "METER.DATA.NO_SHARING_OPERATION_FOUND" | translate }}</span>
      }
    </div>
    <div class="flex flex-col w-1/5 ps-2">
      @if(meterData.member){
        <div class="flex items-center justify-center ">
          @switch(meterData.member.member_type){
            @case(MemberType.INDIVIDUAL){
              <i class="pi pi-user mr-1 text-lg"></i>
            }
            @case(MemberType.COMPANY){
              <i class="pi pi-building mr-1 text-lg"></i>
            }
          }
          <h4 class="ml-3 p text-md font-medium">{{ "METER.INFORMATIONS.OWNER_LABEL" | translate }}</h4>
        </div>
        <div class="text-center">
          <a href="/members/member/{{ meterData.member.id }}">
            <span class="text-sm underline !decoration-green-500 hover:!text-green-700">
              {{ meterData.member.name }}
            </span>
          </a>
        </div>
      }
      @else{
        <div class="justify-end">
          <span class="text-sm">{{ "METER.DATA.NO_OWNER_FOUND_LABEL" | translate }}</span>
        </div>
      }
    </div>
  </div>
</div>
